schema: '2.0'
stages:
  preprocess:
    cmd: python scripts/data_load.py
    deps:
    - path: data/raw/WA_Fn-UseC_-Telco-Customer-Churn.csv
      hash: md5
      md5: 0f9de68e012bd3aed5fa7cdc9fc421af
      size: 977501
    - path: scripts/data_load.py
      hash: md5
      md5: 5288b9a98c718c1b4c3e681b1849d547
      size: 2524
    outs:
    - path: data/processed/test.npz
      hash: md5
      md5: 6a60a0302c6ea1fa7c380ce597257301
      size: 45001
    - path: data/processed/train.npz
      hash: md5
      md5: 3d38e9fc420e6debf0e8376e32baa9e3
      size: 177733
    - path: models/preprocessor.pkl
      hash: md5
      md5: 61a197cceb38d9b5b7c69c83719dccf0
      size: 8464
  train:
    cmd: python scripts/train.py
    deps:
    - path: data/processed/train.npz
      hash: md5
      md5: 3d38e9fc420e6debf0e8376e32baa9e3
      size: 177733
    - path: models/best_params.pkl
      hash: md5
      md5: a49174f31a9133b22396e944d36cd6d3
      size: 47
    - path: models/preprocessor.pkl
      hash: md5
      md5: 61a197cceb38d9b5b7c69c83719dccf0
      size: 8464
    - path: params.yaml
      hash: md5
      md5: ed5b223a1531622c8ddf2a1055324a37
      size: 533
    - path: scripts/train.py
      hash: md5
      md5: 32b89c84e6de03af13730b6ce3b17c21
      size: 1868
    outs:
    - path: models/model.pkl
      hash: md5
      md5: 32c55ed83f90cd7679f6921444fb0a7f
      size: 31778201
  tune:
    cmd: python scripts/hyperparameter.py
    deps:
    - path: data/processed/train.npz
      hash: md5
      md5: 3d38e9fc420e6debf0e8376e32baa9e3
      size: 177733
    - path: params.yaml
      hash: md5
      md5: ed5b223a1531622c8ddf2a1055324a37
      size: 533
    - path: scripts/hyperparameter.py
      hash: md5
      md5: cb3318cf54e16d358218c8f6634da587
      size: 2430
    outs:
    - path: models/best_model.pkl
      hash: md5
      md5: fd98a8f34274b31300b6734631c67b10
      size: 31890041
    - path: models/best_params.pkl
      hash: md5
      md5: a49174f31a9133b22396e944d36cd6d3
      size: 47
  evaluate:
    cmd: python scripts/evaluate.py
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: f3fa24de3ae84fa216837c09beeab4b4
      size: 1386084
    - path: models/model.pkl
      hash: md5
      md5: 32c55ed83f90cd7679f6921444fb0a7f
      size: 31778201
    - path: scripts/evaluate.py
      hash: md5
      md5: e5655ddd940037c75e8b43d0bffad10f
      size: 2297
    outs:
    - path: reports/best_model_eval_report.json
      hash: md5
      md5: 3b021035e77d63bd72a651157d81585d
      size: 735
    - path: reports/default_model_eval_report.json
      hash: md5
      md5: eb2a2790994443c82f945211aaa22aa9
      size: 732
    - path: reports/model_comparison.json
      hash: md5
      md5: f024b13189c08dfcc934a24d226a1e8f
      size: 102
  drift:
    cmd: python scripts/drift_detect.py
    deps:
    - path: data/processed/test.npz
      hash: md5
      md5: 6a60a0302c6ea1fa7c380ce597257301
      size: 45001
    - path: data/processed/train.npz
      hash: md5
      md5: 3d38e9fc420e6debf0e8376e32baa9e3
      size: 177733
    - path: scripts/drift_detect.py
      hash: md5
      md5: 13bd679c6f6b871c50b8061d43ca0298
      size: 1597
    outs:
    - path: reports/drift_report.html
      hash: md5
      md5: 9854426d705dfe6948dbde7837feba57
      size: 5468997
    - path: reports/drift_report.json
      hash: md5
      md5: 4b657da323fb68b4e921a1ff428abd64
      size: 33276
